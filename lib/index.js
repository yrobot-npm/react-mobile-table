import t from"react";function n(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,n){return(r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function o(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function i(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=e(t);if(n){var c=e(this).constructor;r=Reflect.construct(i,arguments,c)}else r=i.apply(this,arguments);return o(this,r)}}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function a(t,n){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function l(t,n){var e;void 0===n&&(n=a);var r,o=[],i=!1;return function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return i&&e===this&&n(c,o)||(r=t.apply(this,c),i=!0,e=this,o=c),r}}var f=function(t){return function(n){return c(Array(t)).map((function(t,e){return n(e)}))}};String.prototype.getCharSize=function(){return this.replace(/[^\u0000-\u00ff]/g,"  ").length};var s=l((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,e=n/375*100,r=t.length;if(e>100/r)return t;var o=0,i=0;if(t.map((function(t){t>e?i+=t-e:o+=e-t})),0===o)return t;var c=(i-o)/i;return t.map((function(t){return t>e?e+(t-e)*c:e}))})),p=l((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[],o=0;return t.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0,i=(o>0?e:n)/1;t.map((function(t,n){r[n]=(r[n]||0)+(t+"").getCharSize()*i}))})),r.map((function(t){o+=t})),r.map((function(t){return 100*t/o}))})),h=function(e){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}(l,t.Component);var o,c,u,a=i(l);function l(t){var n;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,t)).state={},n}return o=l,(c=[{key:"switchFold",value:function(t){var n=this.props.data,e=void 0===n?[[]]:n,r=this.state.columnFolds,o=(void 0===r?e[0].map((function(){return!0})):r).slice();o[t]=!o[t],this.setState({columnFolds:o})}},{key:"render",value:function(){var n=this,e=this.props,r=e.data,o=void 0===r?[[]]:r,i=e.columnMinWidth,c=void 0===i?69:i,u=e.onClick,a=void 0===u?function(){}:u,l=s(p(o),c),h=this.state.columnFolds,m=void 0===h?o[0].map((function(){return!0})):h,v=o.length||0,d=o[0].length||0;return t.createElement("div",{className:"react-mobile-table"},t.createElement("div",{className:"react-mobile-table-column-holder"},f(d)((function(e){return t.createElement("div",{key:"cloumn".concat(e),className:"react-mobile-table-table-column",style:{minWidth:l[e]+"%",width:m[e]?l[e]+"%":"auto"},onClick:function(){n.switchFold(e)}},f(v)((function(n){return t.createElement("div",{key:"cloumn".concat(e,"line").concat(n),className:"react-mobile-table-item",onClick:function(t){a({column:e,line:n,collapse:!m[e],event:t})}},o[n][e])})))}))))}}])&&n(o.prototype,c),u&&n(o,u),l}();export default h;
